{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home","text":"<p>Hey everyone, welcome to the first official tutorial for AAVJ. This is Jack, AKA Anti-Alias, and in this video we\u2019re going to be taking a look at AAVJ - a VJ mixer I created within TouchDesigner.</p> <p>AAVJ leverages the amazing front and back end functionality of TouchDesigner to allow for real-time content and other inputs or outputs TouchDesigner supports.</p> <p>The interface is intended to be user-friendly, customizable, and designed to work in tandem with other industry VJ software.</p> <p>Let\u2019s take a look at the interface. Yay</p>"},{"location":"overview/","title":"Overview","text":""},{"location":"overview/#user-interface","title":"User Interface","text":""},{"location":"overview/#header","title":"Header","text":"<p>At the top, we have our <code>Header Bar</code> which will list the version of AAVJ we are using, as well as the name of our project.</p>"},{"location":"overview/#composition-control","title":"Composition Control","text":"<p>Beneath the toolbar on the left side are the master controls for your composition. </p> <ul> <li>The \u2018X\u2019 button located to the left of the <code>Composition Fader</code> will trigger all layer <code>clear</code> buttons, effectively clearing all layers.</li> </ul> <p>To the right of that is the \u2018Composition\u2019 level fader. This will adjust the overall output opacity of the composition. This is reflected in the \u2018master output\u2019 located in the bottom of the interface above the \u2018preview output\u2019.</p>"},{"location":"overview/#column-launching","title":"Column Launching","text":"<p>On the left side of the <code>toolbar</code>, there are numbered buttons that will instantaneously launch an entire column in your project.</p>"},{"location":"overview/#layers","title":"Layers","text":"<p>On the left, you will see our layer controls. </p> <ul> <li>The X button, or clear button, will transition the scene on that layer to a blank output Pressing this \u2018X\u2019 button twice in a row will leverage the <code>VRAM Cleanup Script</code> and collapse the last played scene on that layer.</li> </ul>"},{"location":"overview/#blend-modes","title":"Blend Modes","text":"<ul> <li>To the right of that, you\u2019ll see the <code>blend mode</code> for this layer, leveraging all the blend modes in a typical composite TOP, blending this layer with the previous layer.</li> </ul>"},{"location":"overview/#fader-filtering","title":"Fader Filtering","text":"<ul> <li>Under that is the fader filtering for the level fader to ease your mixing. Press the = button to enable fader filtering, and adjust the value to increase or decrease filtering on that layer.</li> </ul>"},{"location":"overview/#name","title":"Name","text":"<ul> <li>In the same layer control box, you will see the name of your layer, i.e., \u2018Layer 1, 2, 3\u2019 etc. Users can double-click that layer name to assign a different one manually.</li> </ul>"},{"location":"overview/#order","title":"Order","text":"<ul> <li>The order of layers can be swapped by right-click dragging the layer control box and dropping it onto another layer. This will affect the order in which these layers are composited into the mix.</li> </ul>"},{"location":"overview/#transition-time","title":"Transition Time","text":"<ul> <li>To the right of that is the transition time fader, which will determine how long it takes to fade between scenes on that layer. Users can use the vertical fader or enter a float value to determine the filter length of the transition to a new scene.</li> </ul>"},{"location":"overview/#scene-slots","title":"Scene Slots","text":"<ul> <li> <p>To the right of the layer control box on each layer are the scene \u2018slots\u2019. This is where users will drag and drop their scenes, movies, and sources. A thumbnail image will appear when an AAVJ compatible .tox network, movie file, or source is added from the file browser or built-in asset browser lister. </p> </li> <li> <p>Slots can be swapped with any other slot on any layer by right-click dragging and dropping onto a different scene slot.</p> </li> </ul>"},{"location":"overview/#scene-management","title":"Scene Management","text":"<ul> <li> <p>Users can also clear a scene slot by double right-clicking and selecting \u2018Clear\u2019, effectively removing that scene from the project.</p> </li> <li> <p>Users can also enable/disable OSC Out on that slot by enabling or disabling it using that pop-menu item.</p> </li> <li> <p>Left-clicking any slot in a layer will activate that scene in that layer, and inputting that into the mix. If that scene has been collapsed previously, AAVJ will leverage the AAVJ compression script in reverse and fetch the necessary assets inside the network and reversing the compression.</p> </li> <li> <p>When active, a scene slot\u2019s background and border will be colored red to indicate its status. Only one scene may be active at a time.</p> </li> </ul>"},{"location":"overview/#mid-bar","title":"Mid Bar","text":"<p>Below our layer grid, we will see our project FPS, as well as how much VRAM or video memory is loaded into the project. This will vary as the interface is used due to the dynamic \u2018VRAM compression script\u2019 AAVJ uses to manage memory on the fly.</p> <ul> <li>To the right of the stats container is the horizontal scroll bar which is used to pan across all the available content slots in your project. Users may click drag this slider, or use LINK Mode to map that to any hardware or input values.</li> </ul>"},{"location":"overview/#log","title":"Log","text":"<p>At the very bottom of our interface is the \u2018Log\u2019 component. Whenever users interact with the interface, AAVJ will send confirmation or error messages to the log for user awareness of what\u2019s going on in the project.</p>"},{"location":"overview/#control-section","title":"Control Section","text":"<ul> <li> <p>In the bottom section, on the left side, we have our main <code>output window</code>. This is where the master mix of all your content and effects will be displayed. </p> </li> <li> <p>Below that is our <code>preview output</code>. This will display whichever layer is selected, before it is integrated into the master mix. Users may adjust the size of either window by click-dragging theS handle between them and adjusting the height of the container.</p> </li> </ul> <p>To the right of this is our <code>Control 1 Panel</code> .This houses our Parameters menu, Asset Browser, and custom component slots.</p>"},{"location":"overview/#parameters","title":"Parameters","text":"<p>The \u2018Parameters\u2019 tab is where custom parameters for content or effects that we will build will populate when right-click focusing on any scene or effect in the composition.</p> <ul> <li>Adjacent to that is the <code>Assets</code> tab, where we can quickly access files from our computer and bring them into the composition.</li> </ul> <p>Users can designate any particular folder on their system to populate assets from.</p> <ul> <li>Scenes - are .tox networks that are used as content in the project. See \u2018Scenes\u2019 for details on how to compile an AAVJ compatible .tox network. Scenes are only compatible with slots in the layer grid.</li> <li>Effects - are .tox file networks that receive an input and affect the output. These are only compatible with the \u2018Effects\u2019 panel to the right of Control 1.</li> <li>Movies - are any TouchDesigner compatible image or video files. See list of all compatible image/video filetypes here: When dragged into a scene slot, AAVJ will automatically load an \u2018AA-MoviePlayer\u2019 instance into that slot, located in \u201c/AAVJ/System\u201d in the project file structure.</li> <li>Sources - The sources lister will populate any active NDI or Spout sources on the network. These can be drag/dropped into any scene slot in the layer grid. AAVJ will automatically populate an <code>AA-NDI-IN</code> or <code>AA-SyphonSpout-IN</code>, located in <code>/AAVJ/System</code> in the project file structure.</li> </ul>"},{"location":"overview/#custom-components","title":"Custom Components","text":"<p>Using the plus and minus symbols, we can add or remove additional <code>Component Slots</code> for drag and droppable custom components. See details on constructing an AAVJ compatible .tox component here.</p> <p>Custom Components can be any container-based .tox network, enabling panel capability and global op referencing for data sharing across your project. Users can build dynamic custom functionality in these components and leverage the ability of TouchDesigner in their own way.</p> <p>To the right of that are our panel containers for our Effects, as well as the exposed values that are working within our LINK system - which consists of MIDI, OSC, or any CHOP inputs we want to use to control our networks or interface. More Custom component slots are also available in this panel.</p>"},{"location":"overview/#building-compatible-networks","title":"Building Compatible Networks","text":"<p>Let\u2019s take a look at a simple AAVJ compatible content network, and go over just a few requirements for compatibility with AAVJ. You can find this network in the AAVJ file structure under \u2018Assets\u2019.</p> <ul> <li> <p>The first required part of our network is an Out TOP at the end of our Top output chain named \u2018out1\u2019. This is the operator that AAVJ references to output your content into the mix.</p> </li> <li> <p>The next requirement of an AAVJ compatible network is a Fit TOP attached to our Out1 named \u2018thumb\u2019.</p> </li> </ul> <p>This will serve as the thumbnail that our interface displays for that network. A Text TOP can also be used as the input to the Fit TOP instead of an image.</p> <ul> <li> <p>The fit operation should be set to \u2018Fit Outside\u2019, and the resolution set to 128x128 or 256x256 to save on VRAM.</p> </li> <li> <p>Find the lock icon and lock this operator so we don\u2019t eat up unnecessary resources in our interface.</p> </li> <li> <p>Lastly, use the letter U shortcut to navigate up one level and take a look at our Base Component. To add custom parameters to our base BaseComp to be used in our network, right-click the base COMP and hit Custom Parameters.</p> </li> </ul> <p>Here we can add parameters by type that will be attached to this component.</p> <p>To use those parameters in your network, go back inside and use a Parameter CHOP or Parameter DAT.</p>"},{"location":"overview/#drag-n-drop","title":"Drag N Drop","text":"<p>Let\u2019s go ahead and drop our saved .tox file into our project at Layer 1 Slot 1.</p> <p>As you can see the thumbnail for that tox network appears in our project.</p> <p>additionally, the custom parameters associated with that tox network will appear in the Parameters widget when we right-click on the thumbnail.</p> <p>You can activate this content slot in your mix by left-clicking it to launch it on that layer.</p>"},{"location":"overview/#navigation","title":"Navigation","text":"<p>You will notice when you right-click many of the interface components, they become highlighted with a white border.</p> <ul> <li>To use the <code>navigate</code> feature, Right-click the container you want to navigate to, and use the shortcut \u2018Ctrl + N\u2019.</li> </ul> <p>This will open a floating pane of that destination where you can work on the contained network in real-time.</p> <ul> <li>Just FYI: The first time you use this shortcut, you may experience a CPU hang or hiccup depending on the size or complexity of your network.</li> </ul> <p>This floating window is essentially an instance of network mode where you can move freely throughout the project. It is highly recommended using shortcuts <code>U</code> and <code>I</code> to navigate Up or In, as scroll navigation can be slow and sometimes unstable on some systems.</p> <p>Any interface component that highlights with a white border when focused on is accessible with our navigation functionality.</p>"},{"location":"overview/#effects","title":"Effects","text":"<p>Effects are structured nearly the same as content toxs, but have one additional requirement.</p> <ul> <li>Inside an effect tox, at the beginning of your TOP chain, you need an \u2018In TOP\u2019, as well as a Select TOP connected to the second input of the In TOP. The TOP parameter of the Select TOP should be \u2018../in1\u2019.</li> </ul> <p>The Effects panel features an effect layer for every content layer in your project, as well as a Composition layer at the top which will apply to the final mix of all your layers.</p> <ul> <li> <p>When effects are dragged onto an effects layer, an effect component will populate, featuring the name of that effect file, a \u2018dry/wet\u2019 fader or adjusting how much of the effect you want, a \u2018bypass\u2019 toggle button for hard enabling and disabling an effect, as well as an \u2018x\u2019 momentary button for removing that effect.</p> </li> <li> <p>Effects can be right-click drag and dropped onto any other effect in that layer to swap their order.</p> </li> </ul>"},{"location":"overview/#toolbar","title":"Toolbar","text":""},{"location":"overview/#settings","title":"Settings","text":"<p>Starting from the right side is the \u2018cog wheel\u2019 icon button which will expand the composition settings. Users can adjust the canvas resolution of the project, the number of layers, the number of slots in each layer, as well as which display they want to output to.</p>"},{"location":"overview/#saving","title":"Saving","text":"<p>To the left of the settings button is the \u2018Save Project\u2019 button. By clicking this button users can save their composition, as well as any changes they have made to the networks in the project.</p>"},{"location":"overview/#link","title":"Link","text":"<p>Pressing the Link chain button will enable \u2018LINK\u2019 mode, where users can input/hardware map any of the components in the project which are highlighted. This is done by right-clicking any highlighted component, and adjusting any input value, fader, or button value that is routed into the LINK system. Compatible values can be viewed on the \u2018LINK\u2019 tab.</p> <p>Values exposed in the LINK Tab can be attached to any parameter of any scene or effect in the project by opening up the parameters tab, right-clicking a scene or effect, and then click-dragging a value from the LINK Page onto any custom parameter, similarly to how you typically would in TouchDesigner.</p> <p>Any values that are visible in the LINK tab will automatically be available for use with the UI LINK system.</p> <p>As the quantity of CHOP values grows in the LINK system operator, visibility will be affected by individual values. To navigate this panel, middle mouse drag in or out to zoom in on these values, or scroll to go up and down.</p>"},{"location":"overview/#ndispout-output","title":"NDI/Spout Output","text":"<p>To the left of the Link button is the NDI/Spout output menu. Users can add or remove outputs by using the + and - buttons located next to the headers of their respective output types. Users can designate the name of that output source, and any applicable parameters for that output type. To activate the output, press the output power button toggle so it turns green.</p>"},{"location":"overview/#osc-inputoutput","title":"OSC Input/Output","text":"<p>Similar to the NDI/Spout output menu, Users can set OSC Inputs to be ingested into the LINK system and used within the project. Additionally, users can set up OSC outputs which will output values from enabled components in the interface itself for linking across multiple instances of AAVJ, or used in tandem with other software applications.</p>"},{"location":"overview/#sync","title":"Sync","text":"<p>All the way to the left of these buttons is the \u2018SYNC\u2019 button to enable the experimental \u2018SYNC Module\u2019. By enabling the SYNC module, users will be able to sync any AA TOOLS compatible interfaces so that they share relevant data to enable multi-TouchDesigner instance Syncing, enabling more complex system integration of different tools or instances of AAVJ.</p>"},{"location":"overview/#vram-cleanup-script","title":"VRAM Cleanup Script","text":"<p>The VRAM Cleanup Script is key in optimizing VRAM usage in your project in real-time. Essentially how the script works is as follows:</p> <ul> <li>When you activate a scene in your layer grid, that scene ID is loaded into a 4-row table, effectively the layer history, or \u2018layerhist\u2019.</li> </ul>"},{"location":"overview/#checks","title":"Checks","text":"<p>This Layerhist table is monitored whenever it changes and is run through a series of checks to determine whether or not a particular scene should be collapsed or not. The cleanup script is applied when:</p> <ul> <li>If the first ID is different than the second ID and third ID, the third ID network is collapsed.</li> <li>If the -1st and 3rd ID are the same, that network is only collapsed when a 4th network is activated which is different than the first and second.</li> </ul> <p>On execution, The VRAM cleanup script looks at the target scene, finds all TOPs that use \u2018use input\u2019 for their resolution and switches those to \u2018Eighth\u2019. It then bypasses all TOPs recursively in the network and cooks the network once, effectively purging close to 8x the total network VRAM Usage. TOPs that use custom resolutions are not affected aside from the bypass and cook at the end of the script.</p> <p>When a scene is reactivated on a particular layer, this script is reversed. TOPs that use \u2018Eighth\u2019 for their resolution are reverted to \u2018Use Input\u2019, and all TOPs in the network are unbypassed. Note: This may cause unwanted behavior if bypassed TOPs are included in the output chain.</p> <p>It is highly recommended to keep the VRAM Script enabled for stability and VRAM management during performance, however, this script can be disabled in the settings menu.</p>"},{"location":"overview/#optimization","title":"Optimization","text":"<p>VRAM management is very important in compiling scenes within AAVJ / TouchDesigner. There are a few general rules to consider when working within AAVJ and TouchDesigner in General. </p> <ul> <li> <p>It is recommended to keep .tox networks to  less than 800mb of VRAM per scene. VRAM amounts exceeding this may cause performance hangups or performance costs both cumulatively and individually.</p> </li> <li> <p>Lag CHOPs, Filter CHOPs, Timer CHOPS, and any other CHOPS that cook every frame will affect overall performance in your project. It is recommended to try and limit the usage of these operators whenever possible. See \u2018COOKING\u2019 to understand a bit more of how you can get the best performance out of your networks in TouchDesigner.</p> </li> <li> <p>32-bit textures can also dramatically affect performance and VRAM usage in the project. Sometimes, 32-bit textures are necessary for a desired accuracy in simulations or TOP networks. However, 16-bit can often be used instead for close to the same accuracy, with less VRAM usage. Even in instances where 32-bit must be used, it is recommended to bookend those processes with operators that revert the TOP chain back to 8-bit RGBA before output.</p> </li> </ul>"},{"location":"overview/#notes","title":"Notes","text":"<p>AAVJ is in active development and is constantly in refinement to achieve optimal performance. I appreciate the support in using AAVJ, and I hope users will see the value in a streamlined interface for live performance.</p> <p>If you\u2019d like to support the development of AAVJ, check out my Patreon or consider buying a license for the most up-to-date and capable versions.</p>"},{"location":"troubleshooting/","title":"Troubleshooting Guide","text":""},{"location":"troubleshooting/#tox-networks-not-populating","title":"TOX Networks Not Populating","text":""},{"location":"troubleshooting/#performance-issues","title":"Performance Issues","text":""},{"location":"troubleshooting/#vram-overflow","title":"VRAM Overflow","text":""},{"location":"troubleshooting/#low-fps","title":"Low FPS","text":""},{"location":"troubleshooting/#display-output","title":"Display Output","text":""},{"location":"troubleshooting/#incompatible-files","title":"Incompatible Files","text":""},{"location":"troubleshooting/#parameters-not-showing","title":"Parameters Not Showing","text":""},{"location":"troubleshooting/#pipeline-not-complete","title":"Pipeline Not Complete","text":""},{"location":"troubleshooting/#effects-broken","title":"Effects Broken","text":""}]}